<tool id="genetrack_output_stats" name="Genetrack output statistics" version="1.0.0">
    <description></description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <command>
        <![CDATA[
            <expand macro="non_ready_states" />
            <expand macro="multi_input_check" />
            <expand macro="multi_input_cmd_start" />
            python $__tool_directory__/genetrack_output_stats.py
            <expand macro="multi_input_cmd_end" />
        ]]>
    </command>
    <inputs>
        <param name="input" type="data_collection" collection_type="list" format="gff" label="Gff input" >
            <validator type="dataset_ok_validator" />
        </param>
    </inputs>
    <outputs>
        <data name="output" format="txt" />
    </outputs>
    <tests>
    </tests>
    <help>
**What it does**

Generates statistics on the output of the **Genetrack peak predictor** tool in the **CEGR Galaxy ChIP-exo** pipeline.  These
statistics include the following.

- **numberOfPeaks** -number of lines in input dataset
- **peakMean** - mean value of input column 6
- **peakMeanStd** - mean value of input column 9
- **peakMedian** - median value of input column 6
- **peakMedianStd** - median value of input column 9
- **medianTagSingletons** - median value of input column 6 where input column 9 has stddev = 0.0
  **singletons** - the number of rows where input column 9 has stddev = 0.0


A JSON dictionary containing the run, sample and genome reference, along with the above statistics is sent
via a POST to the PEGR REST API where the information is stored to support the CEGR ChIP-exo statistics reports.
    </help>
    <expand macro="citations" />
</tool>
